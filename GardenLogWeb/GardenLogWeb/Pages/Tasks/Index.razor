@page "/tasks"
@using GardenLogWeb.Pages.Tasks.Components;

@inject NavigationManager _navigationManager;


<Page Title="Tasks" Description="Review, Edit and Create Tasks" BreadcrumbLinks="@_breadcrumbLinks">
    <PageContent>
        <PlantTaskGrid @ref=_taskList />
    </PageContent>
</Page>

@code {


    private List<BreadcrumbLink> _breadcrumbLinks = new();
    private PlantTaskGrid? _taskList;

    private string _title=string.Empty;
    private string _description=string.Empty;

    protected override void OnInitialized()
    {
         SetupPage();
    }

  
    protected override void OnAfterRender(bool firstRender)
    {

        if (firstRender)
        {
            _taskList.Initialize();            
        }
    }

    private async Task SetupPage()
    {
        _description = string.Empty;

        _title = "Tasks";

        _breadcrumbLinks.Add(new BreadcrumbLink("Tasks", _navigationManager.GetPlantTasksUrl(), true));

    }
}

